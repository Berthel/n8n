{
  "createdAt": "2025-09-05T14:47:42.120Z",
  "updatedAt": "2025-09-05T15:07:01.000Z",
  "id": "2VbmlgICB1scexQk",
  "name": "pdf2markdown",
  "active": true,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "amount": 30
      },
      "id": "b1ce6701-7e9b-4118-8321-4ae132dcc4d5",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        -720,
        -160
      ],
      "webhookId": "a0518843-31f8-44f9-bd8e-1189e16de0f1",
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.cloud.llamaindex.ai/api/v1/parsing/upload",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBearerAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "accept",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "parameterType": "formBinaryData",
              "name": "file",
              "inputDataFieldName": "File"
            }
          ]
        },
        "options": {}
      },
      "id": "c20ed780-93f3-4421-9be9-e7eda6161506",
      "name": "Upload_doc",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -912,
        -160
      ],
      "typeVersion": 4.2,
      "credentials": {
        "httpBearerAuth": {
          "id": "furvVw3yB0ddQLfT",
          "name": "Llamaindex Bearer"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "7a07aec1-fc5f-4b76-94d9-6fa8f509ac8e",
              "operator": {
                "name": "filter.operator.equals",
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $json.status }}",
              "rightValue": "SUCCESS"
            }
          ]
        },
        "options": {}
      },
      "id": "dcadb1a3-e689-462f-b32b-d4ed7222499c",
      "name": "If",
      "type": "n8n-nodes-base.if",
      "position": [
        -304,
        -160
      ],
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "formTitle": "Upload file",
        "formFields": {
          "values": [
            {
              "fieldLabel": "File",
              "fieldType": "file",
              "acceptFileTypes": "pdf"
            }
          ]
        },
        "options": {}
      },
      "id": "e94637cc-0b3d-4027-a825-008949159dd2",
      "name": "On form submission",
      "type": "n8n-nodes-base.formTrigger",
      "position": [
        -1120,
        -160
      ],
      "webhookId": "5d1027e0-2885-4436-840f-a0e95cde60a2",
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "amount": 60
      },
      "id": "0d5c7f22-d11b-4877-a362-986410b24580",
      "name": "Wait2",
      "type": "n8n-nodes-base.wait",
      "position": [
        -32,
        -16
      ],
      "webhookId": "8da5da31-1ebd-4c82-8c6a-476d5d277cdd",
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "url": "=https://api.cloud.llamaindex.ai/api/parsing/job/{{ $('Upload_doc').item.json.id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBearerAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "accept",
              "value": "application/json"
            }
          ]
        },
        "options": {}
      },
      "id": "1f95e7ac-cc6b-4887-b877-4ea807855bb4",
      "name": "Status Verification",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -528,
        -160
      ],
      "typeVersion": 4.2,
      "credentials": {
        "httpBearerAuth": {
          "id": "furvVw3yB0ddQLfT",
          "name": "Llamaindex Bearer"
        }
      }
    },
    {
      "parameters": {
        "url": "=https://api.cloud.llamaindex.ai/api/v1/parsing/job/{{ $json.id }}/result/markdown",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBearerAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "accept",
              "value": "application/json"
            }
          ]
        },
        "options": {}
      },
      "id": "1f2e4986-52a8-4b8f-ad11-e066024b021e",
      "name": "Content extraction",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -32,
        -208
      ],
      "typeVersion": 4.2,
      "credentials": {
        "httpBearerAuth": {
          "id": "furvVw3yB0ddQLfT",
          "name": "Llamaindex Bearer"
        }
      }
    },
    {
      "parameters": {
        "operation": "toText",
        "sourceProperty": "markdown",
        "options": {}
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        176,
        -208
      ],
      "id": "f4f899a1-8a19-44ea-9c99-7e821ba0207c",
      "name": "Convert to File"
    }
  ],
  "connections": {
    "If": {
      "main": [
        [
          {
            "node": "Content extraction",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Status Verification",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait2": {
      "main": [
        [
          {
            "node": "Status Verification",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload_doc": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "On form submission": {
      "main": [
        [
          {
            "node": "Upload_doc",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Status Verification": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Content extraction": {
      "main": [
        [
          {
            "node": "Convert to File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": null,
  "pinData": {
    "On form submission": [
      {
        "json": {
          "File": [
            {
              "filename": "Invoice-5A33EB92-0005.pdf",
              "mimetype": "application/pdf",
              "size": 40259
            }
          ],
          "submittedAt": "2025-09-05T17:04:15.452+02:00",
          "formMode": "production"
        }
      }
    ]
  },
  "versionId": "0f59b4b1-c6c0-4c78-b81c-35a420bee401",
  "triggerCount": 1,
  "shared": [
    {
      "createdAt": "2025-09-05T14:47:42.125Z",
      "updatedAt": "2025-09-05T14:47:42.125Z",
      "role": "workflow:owner",
      "workflowId": "2VbmlgICB1scexQk",
      "projectId": "SFLNAzqJIfhKMhJx"
    }
  ],
  "tags": []
}